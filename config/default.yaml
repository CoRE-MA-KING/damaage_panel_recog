# Default config (YAML). If you don't want PyYAML, use config/default.json instead.
camera:
  device: /dev/video4
  capture:
    width: 800
    height: 600
    fps: 90
    fourcc: MJPG
  init_controls:
    auto_exposure: 1
    white_balance_automatic: 0

    exposure_time_absolute: 4
    gain: 0
    brightness: 0
    contrast: 32
    saturation: 90
    hue: 0
    gamma: 100
    power_line_frequency: 1
    white_balance_temperature: 4600
    sharpness: 3
    backlight_compensation: 0

detection:
  kernel_sz: 3
  width_tol: 0.4  # 上下LEDの幅一致割合（大きいLED側基準）
  min_h_overlap: 0.05  # 上下LEDの幅重なり具合（小さいLED側基準）
  min_v_gap: 10  # 上下LED最小距離
  min_box_h: 5  # LED最小高
  min_box_w: 10  # LED最小幅
  hsv:
    blue:
      H_low: 100
      H_high: 135
      S_low: 180
      S_high: 255
      V_low: 120
      V_high: 255
    red1:
      H_low: 0
      H_high: 15
    red2:
      H_low: 165
      H_high: 179
    redSV:
      S_low: 180
      S_high: 255
      V_low: 120
      V_high: 255

tracking:
  enabled: true
  backend: motpy     # motpy | noop (future: sort)
  min_steps_alive: 2
  history_len: 20
  color_bgr: [0, 255, 255]
  motpy:
    order_pos: 2
    dim_pos: 2
    order_size: 0
    dim_size: 2
    q_var_pos: 5000.0
    r_var_pos: 0.1
    min_iou: null
    max_staleness: 4

publish:
  enabled: false
  key_prefix: ""
  publish_key: damagepanel

ui:
  window_name: "Panel (paired by same-color top & bottom)"
  fps_ema_alpha: 0.2
